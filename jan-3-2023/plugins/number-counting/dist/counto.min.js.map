{"version":3,"file":"counto.min.js","sources":["../src/counto.js"],"sourcesContent":["/**\n *  A jQuery plugin to display numeric values with a nice animation.\n * \n *  Usage:\n *      Instead of \n *          `$(<selector>).val((int)nr);`\n *      use\n *          `$(<selector>).counto((int)nr, timeout, ondone);`\n *      \n *      where `ondone.call(this, nr, old_val)`\n *\n *\n *  @git https://github.com/duzun/jquery.counto\n *\n *  @author Dumitru Uzun (DUzun.Me)\n *  @version 1.1.0\n */\n\n export default function init($) {\n        // ---------------------------------------------------------------------------\n        /// Nice count to nr (by DUzun)\n        function counto(nr,dl,done) {\n            if(!dl) dl = 400;\n            var start = $.now(),\n                end   = start + dl,\n                delay = 10,\n                rwm = parseFloat,\n                rwc,\n                fx = String(nr).split('.');\n            if(typeof xNumber == 'function') {\n                rwm = xNumber;\n                rwc = xNumber;\n            }\n            fx = fx.length > 1 ? fx[1].length : 0;\n            nr = rwm(nr);\n            this.each(function (i, e) {\n                var $this = $(e),\n                    data  = $this.data(),\n                    mh = $this.is(':input') ? 'val' : 'text',\n                    v =  $this[mh](),\n                    val   = rwc ? new rwc(v) : rwm(v),\n                    ofs = Number(val),\n                    last  = ofs,\n                    inter = ofs - nr,\n                    sv = function sv() {\n                        if(data._cto) clearTimeout(data._cto);\n                        var now = $.now(), v;\n                        if(now < end && last != nr) {\n                            v = (ofs - (now-start) / dl * inter).toFixed(fx);\n                            data._cto = setTimeout(sv, delay);\n                        }\n                        else {\n                            v = fx ? nr.toFixed(fx) : nr;\n                            delete data._cto;\n                        }\n                        if(v != last) {\n                            last = v;\n                            rwc ? (val.value = v) : (val = v);\n                            $this[mh](val);\n                        }\n                        if(!data._cto) {\n                            if(typeof done === 'function') done.call(e, nr, val);\n                        }\n                    } ;\n                sv();\n            });\n        }\n\n    return $.fn.counto = counto;\n}\n\nif ( typeof window !== 'undefined' ) {\n    const $ = window.jQuery || window.Zepto;\n    if ( $ ) init($);\n}\n"],"names":["init","$","fn","counto","nr","dl","done","rwc","start","now","end","rwm","parseFloat","fx","String","split","xNumber","length","each","i","e","$this","data","mh","is","v","val","ofs","Number","last","inter","sv","_cto","clearTimeout","toFixed","setTimeout","value","call","window","jQuery","Zepto"],"mappings":"yBAkBgB,SAASA,EAAKC,UAkDnBA,EAAEC,GAAGC,gBA/CQC,EAAGC,EAAGC,GACdD,IAAIA,EAAK,SAKTE,EAJAC,EAAQP,EAAEQ,MACVC,EAAQF,EAAQH,EAEhBM,EAAMC,WAENC,EAAKC,OAAOV,GAAIW,MAAM,KACL,mBAAXC,UACNL,EAAMK,QACNT,EAAMS,SAEVH,EAAKA,EAAGI,OAAS,EAAIJ,EAAG,GAAGI,OAAS,EACpCb,EAAKO,EAAIP,QACJc,MAAK,SAAUC,EAAGC,OACfC,EAAQpB,EAAEmB,GACVE,EAAQD,EAAMC,OACdC,EAAKF,EAAMG,GAAG,UAAY,MAAQ,OAClCC,EAAKJ,EAAME,KACXG,EAAQnB,EAAM,IAAIA,EAAIkB,GAAKd,EAAIc,GAC/BE,EAAMC,OAAOF,GACbG,EAAQF,EACRG,EAAQH,EAAMvB,GACT,SAAS2B,IACPT,EAAKU,MAAMC,aAAaX,EAAKU,UACbP,EAAfhB,EAAMR,EAAEQ,MACTA,EAAMC,GAAOmB,GAAQzB,GACpBqB,GAAKE,GAAOlB,EAAID,GAASH,EAAKyB,GAAOI,QAAQrB,GAC7CS,EAAKU,KAAOG,WAAWJ,EAxB3B,MA2BIN,EAAIZ,EAAKT,EAAG8B,QAAQrB,GAAMT,SACnBkB,EAAKU,MAEbP,GAAKI,IACJA,EAAOJ,EACPlB,EAAOmB,EAAIU,MAAQX,EAAMC,EAAMD,EAC/BJ,EAAME,GAAIG,IAEVJ,EAAKU,MACc,mBAAT1B,GAAqBA,EAAK+B,KAAKjB,EAAGhB,EAAIsB,GAG5DK,OAOhB,GAAuB,oBAAXO,OAAyB,KAC3BrC,EAAIqC,OAAOC,QAAUD,OAAOE,MAC7BvC,GAAID,EAAKC"}